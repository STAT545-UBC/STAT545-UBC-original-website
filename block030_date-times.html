<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Date-times</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68219208-1', 'auto');
  ga('send', 'pageview');

</script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/default.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="libs/local/main.css" type="text/css" />
<link rel="stylesheet" href="libs/local/nav.css" type="text/css" />
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<header>
  <div class="nav">
    <a class="nav-logo" href="index.html">
      <img src="static/img/stat545-logo-s.png" width="70px" height="70px"/>
    </a>
    <ul>
      <li class="home"><a href="index.html">Home</a></li>
      <li class="faq"><a href="faq.html">FAQ</a></li>
      <li class="syllabus"><a href="syllabus.html">Syllabus</a></li>
      <li class="topics"><a href="topics.html">Topics</a></li>
      <li class="people"><a href="people.html">People</a></li>
    </ul>
  </div>
</header>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Date-times</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#date-time-vectors-where-they-fit-in">Date-time vectors: where they fit in</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#load-the-tidyverse-and-lubridate">Load the tidyverse and lubridate</a></li>
<li><a href="#get-your-hands-on-some-dates-or-date-times">Get your hands on some dates or date-times</a></li>
<li><a href="#get-date-or-date-time-from-character">Get date or date-time from character</a></li>
<li><a href="#build-date-or-date-time-from-parts">Build date or date-time from parts</a></li>
<li><a href="#get-parts-from-date-or-date-time">Get parts from date or date-time</a></li>
<li><a href="#arithmetic-with-date-or-date-time">Arithmetic with date or date-time</a></li>
<li><a href="#get-character-from-date-or-date-time">Get character from date or date-time</a></li>
</ul>
</div>

<p><em>Under development</em></p>
<div id="date-time-vectors-where-they-fit-in" class="section level3">
<h3>Date-time vectors: where they fit in</h3>
<p>We’ve spent alot of time working with big, beautiful data frames. That are clean and wholesome, like the Gapminder data. With crude temporal information like, “THE YEAR IS 1952”.</p>
<p>But real life will be much nastier. This information will come to you with much greater precision, reported to the last second or worse, complicated by time zones and daylight savings time idiosyncrasies. Or in some weird format.</p>
<p>Here we discuss common remedial tasks for dealing with date-times.</p>
</div>
<div id="resources" class="section level3">
<h3>Resources</h3>
<p>I start with this because we cannot possibly do this topic justice in a short amount of time. Our goal is to make you aware of specific problems and solutions. Once you have a character problem in real life, these resources will be extremely helpful as you delve deeper.</p>
<p><a href="http://r4ds.had.co.nz/dates-and-times.html">Dates and times</a> chapter from <a href="http://r4ds.had.co.nz">R for Data Science</a> by Hadley Wickham and Garrett Grolemund</p>
<p>The <a href="https://cran.r-project.org/package=lubridate">lubridate</a> package. <a href="https://cran.r-project.org/web/packages/lubridate/vignettes/lubridate.html">Main vignette</a>.</p>
<p>Grolemund, G., &amp; Wickham, H. (2011). Dates and Times Made Easy with lubridate. Journal of Statistical Software, 40(3), 1 - 25. <a href="http://dx.doi.org/10.18637/jss.v040.i03" class="uri">http://dx.doi.org/10.18637/jss.v040.i03</a></p>
<p>Exercises to push you to learn <a href="https://cran.r-project.org/web/packages/lubridate/index.html">lubridate</a>: <a href="http://r-exercises.com/2016/08/15/dates-and-times-simple-and-easy-with-lubridate-part-1/">part 1</a>, <a href="http://r-exercises.com/2016/08/29/dates-and-times-simple-and-easy-with-lubridate-exercises-part-2/">part 2</a>, <a href="http://r-exercises.com/2016/10/04/dates-and-times-simple-and-easy-with-lubridate-exercises-part-3/">part 3</a> <em>posts include links to answers!</em></p>
</div>
<div id="load-the-tidyverse-and-lubridate" class="section level3">
<h3>Load the tidyverse and lubridate</h3>
<pre class="r"><code>library(tidyverse)
#&gt; Loading tidyverse: ggplot2
#&gt; Loading tidyverse: tibble
#&gt; Loading tidyverse: tidyr
#&gt; Loading tidyverse: readr
#&gt; Loading tidyverse: purrr
#&gt; Loading tidyverse: dplyr
#&gt; Conflicts with tidy packages ----------------------------------------------
#&gt; filter(): dplyr, stats
#&gt; lag():    dplyr, stats
library(lubridate)
#&gt; 
#&gt; Attaching package: &#39;lubridate&#39;
#&gt; The following object is masked from &#39;package:base&#39;:
#&gt; 
#&gt;     date</code></pre>
</div>
<div id="get-your-hands-on-some-dates-or-date-times" class="section level3">
<h3>Get your hands on some dates or date-times</h3>
<p>Use base <code>Sys.Date()</code> or lubridate’s <code>today()</code> to get today’s date, without any time.</p>
<pre class="r"><code>Sys.Date()
#&gt; [1] &quot;2016-10-11&quot;
today()
#&gt; [1] &quot;2016-10-11&quot;</code></pre>
<p>They both give you something of class <code>Date</code>.</p>
<pre class="r"><code>str(Sys.Date())
#&gt;  Date[1:1], format: &quot;2016-10-11&quot;
class(Sys.Date())
#&gt; [1] &quot;Date&quot;
str(today())
#&gt;  Date[1:1], format: &quot;2016-10-11&quot;
class(today())
#&gt; [1] &quot;Date&quot;</code></pre>
<p>Use base <code>Sys.time()</code> or lubridate’s <code>now()</code> to get RIGHT NOW, meaning the date and the time.</p>
<pre class="r"><code>Sys.time()
#&gt; [1] &quot;2016-10-11 23:12:58 PDT&quot;
now()
#&gt; [1] &quot;2016-10-11 23:12:58 PDT&quot;</code></pre>
<p>They both give you something of class <code>POSIXct</code> in R jargon.</p>
<pre class="r"><code>str(Sys.time())
#&gt;  POSIXct[1:1], format: &quot;2016-10-11 23:12:58&quot;
class(Sys.time())
#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot;
str(now())
#&gt;  POSIXct[1:1], format: &quot;2016-10-11 23:12:58&quot;
class(now())
#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
</div>
<div id="get-date-or-date-time-from-character" class="section level3">
<h3>Get date or date-time from character</h3>
<p>One of the main ways dates and date-times come into your life:</p>
<p><a href="http://r4ds.had.co.nz/dates-and-times.html#creating-datetimes#from-strings" class="uri">http://r4ds.had.co.nz/dates-and-times.html#creating-datetimes#from-strings</a></p>
</div>
<div id="build-date-or-date-time-from-parts" class="section level3">
<h3>Build date or date-time from parts</h3>
<p>Second most common way dates and date-times come into your life:</p>
<p><a href="http://r4ds.had.co.nz/dates-and-times.html#creating-datetimes#from-individual-components" class="uri">http://r4ds.had.co.nz/dates-and-times.html#creating-datetimes#from-individual-components</a></p>
<p>Once you have dates, you might want to edit them in a non-annoying way:</p>
<p><a href="http://r4ds.had.co.nz/dates-and-times.html#setting-components" class="uri">http://r4ds.had.co.nz/dates-and-times.html#setting-components</a></p>
</div>
<div id="get-parts-from-date-or-date-time" class="section level3">
<h3>Get parts from date or date-time</h3>
<p><a href="http://r4ds.had.co.nz/dates-and-times.html#date-time-components#getting-components" class="uri">http://r4ds.had.co.nz/dates-and-times.html#date-time-components#getting-components</a></p>
</div>
<div id="arithmetic-with-date-or-date-time" class="section level3">
<h3>Arithmetic with date or date-time</h3>
<p><a href="http://r4ds.had.co.nz/dates-and-times.html#time-spans" class="uri">http://r4ds.had.co.nz/dates-and-times.html#time-spans</a></p>
</div>
<div id="get-character-from-date-or-date-time" class="section level3">
<h3>Get character from date or date-time</h3>
<p>Eventually you will need to print this stuff in, say, a report.</p>
<p><em>I always use <code>format()</code> but assumed lubridate had something else/better. Am I missing something here? Probably. For now, read the help: <code>?format.POSIXct</code>.</em></p>
</div>

<div class="footer">
This work is licensed under the  <a href="http://creativecommons.org/licenses/by-nc/3.0/">CC BY-NC 3.0 Creative Commons License</a>.
</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
